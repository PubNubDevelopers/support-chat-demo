{"version":3,"sources":["networking/modules/node.js"],"names":["keepAliveAgent","keepAliveSecureAgent","superagent","proxy","superagentConstruct","_config","keepAlive","agent","secure","AgentClass","AgentKeepAlive","HttpsAgent","keepAliveSettings"],"mappings":";;;;;;;;AAEA;;AACA;;AACA;;;;AAEA,IAAIA,cAA4D,GAAG,IAAnE;AACA,IAAIC,oBAAkE,GAAG,IAAzE;AAEA,iCAAgBC,sBAAhB;;AAEO,SAASC,KAAT,CAAeC,mBAAf,EAAgD;AACrD,SAAOA,mBAAmB,CAACD,KAApB,CAA0B,KAAKE,OAAL,CAAaF,KAAvC,CAAP;AACD;;AAEM,SAASG,SAAT,CAAmBF,mBAAnB,EAAoD;AACzD,MAAIG,KAAK,GAAG,KAAKF,OAAL,CAAaG,MAAb,GAAsBP,oBAAtB,GAA6CD,cAAzD;;AACA,MAAIO,KAAK,KAAK,IAAd,EAAoB;AAClB,QAAIE,UAAU,GAAG,KAAKJ,OAAL,CAAaG,MAAb,GAAsBE,2BAAeC,UAArC,GAAkDD,0BAAnE;AACAH,IAAAA,KAAK,GAAG,IAAIE,UAAJ,CAAe,KAAKJ,OAAL,CAAaO,iBAA5B,CAAR;;AACA,QAAI,KAAKP,OAAL,CAAaG,MAAjB,EAAyB;AACvBP,MAAAA,oBAAoB,GAAGM,KAAvB;AACD,KAFD,MAEO;AACLP,MAAAA,cAAc,GAAGO,KAAjB;AACD;AACF;;AAED,SAAOH,mBAAmB,CAACG,KAApB,CAA0BA,KAA1B,CAAP;AACD","sourcesContent":["/* @flow */\n\nimport superagent from 'superagent';\nimport superagentProxy from 'superagent-proxy';\nimport AgentKeepAlive from 'agentkeepalive';\n\nlet keepAliveAgent: (AgentKeepAlive | AgentKeepAlive.HttpsAgent) = null;\nlet keepAliveSecureAgent: (AgentKeepAlive | AgentKeepAlive.HttpsAgent) = null;\n\nsuperagentProxy(superagent);\n\nexport function proxy(superagentConstruct: superagent) {\n  return superagentConstruct.proxy(this._config.proxy);\n}\n\nexport function keepAlive(superagentConstruct: superagent) {\n  let agent = this._config.secure ? keepAliveSecureAgent : keepAliveAgent;\n  if (agent === null) {\n    let AgentClass = this._config.secure ? AgentKeepAlive.HttpsAgent : AgentKeepAlive;\n    agent = new AgentClass(this._config.keepAliveSettings);\n    if (this._config.secure) {\n      keepAliveSecureAgent = agent;\n    } else {\n      keepAliveAgent = agent;\n    }\n  }\n\n  return superagentConstruct.agent(agent);\n}\n"],"file":"node.js"}