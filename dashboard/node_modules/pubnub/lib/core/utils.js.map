{"version":3,"sources":["core/utils.js"],"names":["objectToList","o","l","Object","keys","forEach","key","push","encodeString","input","encodeURIComponent","replace","x","charCodeAt","toString","toUpperCase","objectToListSorted","sort","signPamFromParams","params","map","paramKey","join","endsWith","searchString","suffix","indexOf","length","createPromise","successResolve","failureResolve","promise","Promise","fulfill","reject","module","exports"],"mappings":";;AAEA,SAASA,YAAT,CAAsBC,CAAtB,EAA6C;AAC3C,MAAIC,CAAC,GAAG,EAAR;AACAC,EAAAA,MAAM,CAACC,IAAP,CAAYH,CAAZ,EAAeI,OAAf,CAAuB,UAACC,GAAD;AAAA,WAASJ,CAAC,CAACK,IAAF,CAAOD,GAAP,CAAT;AAAA,GAAvB;AACA,SAAOJ,CAAP;AACD;;AAED,SAASM,YAAT,CAAsBC,KAAtB,EAA6C;AAC3C,SAAOC,kBAAkB,CAACD,KAAD,CAAlB,CAA0BE,OAA1B,CAAkC,WAAlC,EAA+C,UAACC,CAAD;AAAA,sBAAWA,CAAC,CAACC,UAAF,CAAa,CAAb,EAAgBC,QAAhB,CAAyB,EAAzB,EAA6BC,WAA7B,EAAX;AAAA,GAA/C,CAAP;AACD;;AAED,SAASC,kBAAT,CAA4Bf,CAA5B,EAAmD;AACjD,SAAOD,YAAY,CAACC,CAAD,CAAZ,CAAgBgB,IAAhB,EAAP;AACD;;AAED,SAASC,iBAAT,CAA2BC,MAA3B,EAAmD;AACjD,MAAIjB,CAAC,GAAGc,kBAAkB,CAACG,MAAD,CAA1B;AACA,SAAOjB,CAAC,CAACkB,GAAF,CAAM,UAACC,QAAD;AAAA,qBAAiBA,QAAjB,cAA6Bb,YAAY,CAACW,MAAM,CAACE,QAAD,CAAP,CAAzC;AAAA,GAAN,EAAqEC,IAArE,CAA0E,GAA1E,CAAP;AACD;;AAED,SAASC,QAAT,CAAkBC,YAAlB,EAAwCC,MAAxC,EAAiE;AAC/D,SAAOD,YAAY,CAACE,OAAb,CAAqBD,MAArB,EAA6B,KAAKE,MAAL,GAAcF,MAAM,CAACE,MAAlD,MAA8D,CAAC,CAAtE;AACD;;AAED,SAASC,aAAT,GAAyB;AACvB,MAAIC,cAAJ;AACA,MAAIC,cAAJ;AACA,MAAIC,OAAqB,GAAG,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAC3DL,IAAAA,cAAc,GAAGI,OAAjB;AACAH,IAAAA,cAAc,GAAGI,MAAjB;AACD,GAH2B,CAA5B;AAKA,SAAO;AAAEH,IAAAA,OAAO,EAAPA,OAAF;AAAWG,IAAAA,MAAM,EAAEJ,cAAnB;AAAmCG,IAAAA,OAAO,EAAEJ;AAA5C,GAAP;AACD;;AAEDM,MAAM,CAACC,OAAP,GAAiB;AAAElB,EAAAA,iBAAiB,EAAjBA,iBAAF;AAAqBK,EAAAA,QAAQ,EAARA,QAArB;AAA+BK,EAAAA,aAAa,EAAbA,aAA/B;AAA8CpB,EAAAA,YAAY,EAAZA;AAA9C,CAAjB","sourcesContent":["/* @flow */\n\nfunction objectToList(o: Object): Array<any> {\n  let l = [];\n  Object.keys(o).forEach((key) => l.push(key));\n  return l;\n}\n\nfunction encodeString(input: string): string {\n  return encodeURIComponent(input).replace(/[!~*'()]/g, (x) => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n}\n\nfunction objectToListSorted(o: Object): Array<any> {\n  return objectToList(o).sort();\n}\n\nfunction signPamFromParams(params: Object): string {\n  let l = objectToListSorted(params);\n  return l.map((paramKey) => `${paramKey}=${encodeString(params[paramKey])}`).join('&');\n}\n\nfunction endsWith(searchString: string, suffix: string): boolean {\n  return searchString.indexOf(suffix, this.length - suffix.length) !== -1;\n}\n\nfunction createPromise() {\n  let successResolve;\n  let failureResolve;\n  let promise: Promise<any> = new Promise((fulfill, reject) => {\n    successResolve = fulfill;\n    failureResolve = reject;\n  });\n\n  return { promise, reject: failureResolve, fulfill: successResolve };\n}\n\nmodule.exports = { signPamFromParams, endsWith, createPromise, encodeString };\n"],"file":"utils.js"}